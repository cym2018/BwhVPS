签到表设计:
数据库:
字段1:id,主键
字段2:用户id
字段3:签到时间
字段4:类型(签到,签退)
create table checkin(
id int not null auto_increment primary key,
userid int not null,
time datetime default now(),
type int
);
程序逻辑:
1.触发签到
2.检查状态:如果在"休假"状态,进入下一步,否则返回错误
3."休假"状态修改为"在岗"状态
4.记录签到信息

1.触发签退
2.状态检查:如果在"在岗"状态,进入下一步,否则返回错误
3."在岗"状态修改为"休假"状态
4.记录签退信息