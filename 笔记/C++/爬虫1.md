# C++爬取曾经玩过的游戏真人秀 
在windows下,使用curl下载网址内容,C++筛选信息

C++只做了调用curl和文件处理的工作,严格意义讲,能不算C++爬虫

# 下载
```c++
#include<iostream>
#include<fstream>
#include<string>
using namespace std;
int main(int arvc, char* arvg) {
	string s1 = "curl https://mx2.duoyi.com/show/";
	string s2 = ".shtm >>"; 
	string s3 = ".txt";
	int i = 1;
	string s;
	while (i++) {
		s = s1 + to_string(i) + s2+ to_string(i)+s3;
		cout << s << endl;
		system(s.c_str());
	}
}
```
# 手动处理
删掉大小为4K的文件
# 自动处理
```C++
#include<iostream>
#include<fstream>
#include<string>
using namespace std;
int GetLen(char* cIn);
fstream outfile;
fstream infile; 
string sLine;
char* line = new char[1000];
void Find() {
	// 图片
	for (int i = 0; i < 120; i++)
		infile.getline(line, 1000);
	strcpy_s(line,1000, (const char*)&line[133]);
	line[67] = '\0';
	outfile << line<<",";
	// 昵称
	for (int i = 0; i < 30; i++)
		infile.getline(line, 1000);
	strcpy_s(line, 1000, (const char*)& line[38]);
	line[GetLen(line) - 5] = '\0';
	outfile << line << ",";
	// 性别
	for (int i = 0; i < 2; i++)
		infile.getline(line, 1000);
	strcpy_s(line, 1000, (const char*)& line[38]);
	line[6] = '\0';
	outfile<< line << ",";
	// 服务器
	for (int i = 0; i < 4; i++)
		infile.getline(line, 1000);
	strcpy_s(line, 1000, (const char*)& line[26]);
	line[12] = '\0';
	outfile << line << ",";
	// ID
	for (int i = 0; i < 2; i++)
		infile.getline(line, 1000);
	strcpy_s(line, 1000, (const char*)& line[26]);
	line[GetLen(line)-5] = '\0';
	outfile << line << endl;
}
int GetLen(char* cIn) {
	int i = 0;
	while (cIn[i] != '\0')
		i++;
	return i;
}
int main(int arvc, char* arvg) {
	int i = 0;
	outfile.open("recode.txt", ios::app);
	while (i<12000) {
		infile.open(to_string(i) + ".txt");
		if (infile.is_open()) {
			Find();
		}
		i++;
		infile.close();
	}
}
```
